// Highlight.js configuration for Quark theme
// 支持常见编程语言的代码高亮

// 从CDN加载highlight.js
document.addEventListener('DOMContentLoaded', function() {
    // 加载highlight.js核心库
    if (!window.hljs) {
        const script = document.createElement('script');
        script.src = 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js';
        script.onload = function() {
            // 加载常用语言
            const languages = [
                'javascript', 'python', 'java', 'cpp', 'go', 
                'rust', 'typescript', 'html', 'css', 'json',
                'bash', 'shell', 'yaml', 'markdown', 'sql'
            ];
            
            let loadedLangs = 0;
            languages.forEach(lang => {
                const langScript = document.createElement('script');
                langScript.src = `https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/${lang}.min.js`;
                langScript.onload = function() {
                    loadedLangs++;
                    if (loadedLangs === languages.length) {
                        // 所有语言加载完成后，初始化高亮
                        hljs.highlightAll();
                    }
                };
                document.head.appendChild(langScript);
            });
        };
        document.head.appendChild(script);
        
        // 加载CSS样式
        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css';
        document.head.appendChild(link);
    }
});